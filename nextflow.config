process {
    publishDir = {"./results_disconnectoflow/$sid/$task.process"}
    scratch = true
    errorStrategy = { task.attempt <= 1 ? 'retry' : 'ignore' }
    maxRetries = 3
    maxErrors = -1
    stageInMode = 'copy'
    stageOutMode = 'rsync'
    tag = { "$sid" }
    afterScript = 'sleep 1'
}

params {
  root = false
  tractograms = false
  atlases = false
  in_tractograms = false
  help = false

  nbr_subjects_for_avg_connections=50

  // **Decompose options**//
      no_pruning=false
      no_remove_loops=false
      no_remove_outliers=false
      min_length=20
      max_length=200
      loop_max_angle=330
      outlier_threshold=0.5

  //**Output directory**//
      output_dir=false

  //**Number of processes per tasks**//
      processes_register=4
      processes_connectivity=4
      decompose_memory_limit='6.GB'
      commit_memory_limit='6.GB'

      Readme_Publish_Dir = "./results_disconnectoflow/Readme"
      output_dir = "./results_disconnectoflow/"
}

singularity {
    autoMounts = true
}
